@model IEnumerable<Hmwrk6.Models.Person>

@{
    ViewBag.Title = "Home Page";
}

<div class="row">
    <h1 id="pageHeader">World Wide Importers</h1>
    <br />
    <p>This page will allow you to search through the company's whole database. You can look up customers and employees of World Wide Importers.</p>
    <h3 id="searchTitle">Client Search</h3>
    <div class="container-fluid">
        @using (Html.BeginForm("Index", "Home", FormMethod.Get, new { @class = "form-inline" }))
        {
            // creating text input form
            <div class="input-group">
                <span class="input-group-btn">
                    @Html.TextBox("query", null, new { @class = "form-control" })
                    <button class="btn btn-primary" type="submit" id="formbtn">Search</button>
                </span>
            </div>
            if (ViewBag.show)
            {
                if (Model.Count() == 0)
                {
                    <h4>This client doesn't exists.</h4>
                }
                else
                {
                    // foreach statement will look through data and find a person that 
                    // has a section of the text that was entered in for search
                    foreach (var person in Model)
                        {
                        <div>
                            <a class="text-info" href="Home/Details/@person.PersonID" role="button">@person.FullName (@person.PreferredName)</a>
                        </div>
                    }
                }
            }
        }

    </div>
</div>